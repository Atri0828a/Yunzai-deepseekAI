# deepseekAI for Yunzai

### 介绍
调用deepseek api进行AI对话  
**强烈建议下载与使用第二个文件(deepseekAI-2)，因为功能更加完善**，文件1暂时废弃，目前我仅对文件2进行维护  
欢迎查看与下载作者更多的发癫小插件：[**详情点击**](https://github.com/Atri0828a/Yunzai-plugins-by-mo)

### 安装方式

1.下载deepseekAI.js文件放入example  
2.打开文件根据注释进行修改与配置。有问题请根据注释解决。  
3.首次安装需要依赖openai和axios，，下面是openai依赖的安装指令，axios同理  
喵崽
```  
pnpm i openai -w
```  
trss崽  
```  
pnpm i openai
```  

### 功能/指令

| 指令 | 用途 |
|:-------:|:-------:|
| #ds帮助 | 显示帮助 | 
| 消息中包含预设的关键词 | 触发对话 | 
| #ds清空对话 | 清除本次对话记录 |
| #ds设置预设 [内容] | 临时修改自己想要的AI人格 |
| #ds清空预设 | 清除临时修改的预设<br>并自动使用系统原预设 |
| #ds查看预设 | 查看当前的预设是什么 |
| #ds选择预设 | 选择不同的系统预设 |
| #ds存储对话 [名称] | 保存本次对话到系统中 |
| #ds查询对话 | 查看保存的历史对话 |
| #ds选择/删除对话 [ID] | 选择/删除某个历史对话 |
| #ds群聊分离(开启/关闭/状态) | 选择共用对话历史还是分开 |
| #ds余额查询 | 查询API的余额 |
| #ds开始/结束对话 | 进行连续的无需关键词的私聊对话 |
| #ds查询版本 | 查询是否有新版代码 |
| #ds(黑名单/白名单)(添加/删除)12345 | 增删黑白名单 |


ps.预设就是AI的人格  
未保存的对话会在30分钟后自动结束并清空  
当然你可以在代码中手动修改这个时长  
！对话历史的优先级高于预设，所以改完预设记得先清空一下对话历史 ！

### 相关报错

1.帮助图片无法生成/puppeteer启动失败：按代码内提供的备用帮助方案解决    
2.执行完依赖安装命令之后，重启依然显示缺依赖：这不是我的问题喵~ 自己想办法解决喵~ （可能是nodejs的问题吧，本人的node版本22.14.0）  


### 密钥申请

DeepSeek api申请渠道 : [**点击这里**](https://platform.deepseek.com/)

### 致谢

原作者：[**枫林**](https://gitee.com/fenglinit)  ，本人获得允许的情况下进行二改  
贡献者：[**八二年小妖精**](https://gitee.com/goblins1982)，提供私聊无关键词连续对话功能

### 其它问题

有问题/bug反馈/意见请联系QQ: **2981701287**（如果显示风险账号无法添加，请加小号2708471962，小号不一定及时回复消息），聊天群：**1047965118**  
